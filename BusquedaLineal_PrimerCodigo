#include <iostream>
#include <stack>
using namespace std;

class PilaLineal {
private:
    stack<int> pila;

public:
    void capturar(int valor) {
        pila.push(valor);
    }

    void mostrar() {
        stack<int> temp = pila;
        cout << "Elementos en la pila:" << endl;
        while (!temp.empty()) {
            cout << temp.top() << endl;
            temp.pop();
        }
    }

    void mostrarEnLinea() {
        stack<int> temp = pila;
        cout << "Estado actual de la pila: ";
        while (!temp.empty()) {
            cout << temp.top() << " ";
            temp.pop();
        }
        cout << endl;
    }

    void busquedaLineal(int elemento) {
        stack<int> temp = pila;
        char encontrado = 'F';
        int pos = 0;

        cout << endl << "Buscando el elemento " << elemento << "..." << endl;

        while (!temp.empty()) {
            if (temp.top() == elemento) {
                cout << "Elemento " << elemento << " fue encontrado en la posicion " << pos << " :)" << endl;
                encontrado = 'V';
            }
            temp.pop();
            pos++;
        }

        if (encontrado == 'F') {
            cout << "Elemento " << elemento << " NO fue encontrado en la pila. :(" << endl;
        }

        cout << "Estado de la busqueda: " << encontrado << endl;
    }
};

int main() {
    PilaLineal pila;
    int opcion, valor, n;

    do {
        cout << "\n----- MENU -----" << endl;
        cout << "1. Insertar elementos en la pila" << endl;
        cout << "2. Buscar un elemento en la pila" << endl;
        cout << "3. Mostrar pila" << endl;
        cout << "4. Salir" << endl;
        cout << "Elige una opcion: ";
        cin >> opcion;

        switch (opcion) {
        case 1:
            cout << endl << "Cuantos valores deseas insertar? ";
            cin >> n;
            for (int i = 0; i < n; i++) {
                cout << "Ingresa el valor " << i + 1 << ": ";
                cin >> valor;
                pila.capturar(valor);
            }
            break;

        case 2:
            pila.mostrarEnLinea();
            cout << "Que valor deseas buscar? ";
            cin >> valor;
            pila.busquedaLineal(valor);
            break;

        case 3:
            pila.mostrar();
            break;

        case 4:
            cout << "Saliendo del programa..." << endl;
            break;

        default:
            cout << "Opcion invalida, intenta de nuevo." << endl;
        }

    } while (opcion != 4);

    return 0;
}
}
